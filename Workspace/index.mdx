# Karibu-Workspace

Welcome to the Karibu Workspace API documentation.

## Overview
The Workspace API allows you to manage workspaces for your organization or application. You can create, list, retrieve, and update workspaces. All endpoints require authentication via an `X-API-Key` header.

---

## Security Notes
- All endpoints require a valid `X-API-Key`.
- Some actions (like creating campaigns) require the workspace to have `developer_access: true`.
- If a workspace does not have developer access, endpoints will return a `403 Forbidden` error.

**Example Error Response:**
```json
{
  "detail": "Workspace does not have developer access."
}
```

---

## Endpoints

### Create Workspace
**POST** `/v1/workspace/create/`
Create a new workspace for the authenticated user.

**Headers:**
- `X-API-Key` (string, required)

**Request Body:**
```json
{
  "name": "string",
  "description": "string",
  "developer_access": false
}
```

**Response:**
```json
{
  "workspace_id": "uuid",
  "user_id": "uuid",
  "name": "string",
  "description": "string",
  "created_at": "date-time",
  "developer_access": true
}
```

---

### List Workspaces
**GET** `/v1/workspace/all/`
Retrieve all workspaces for the authenticated user.

**Headers:**
- `X-API-Key` (string, required)

**Response:**
```json
[
  {
    "workspace_id": "uuid",
    "user_id": "uuid",
    "name": "string",
    "description": "string",
    "created_at": "date-time",
    "developer_access": true
  }
]
```

---

### Get Workspace
**GET** `/v1/workspace/{workspace_id}`
Retrieve a specific workspace by ID.

**Path Parameters:**
- `workspace_id` (string, required)

**Headers:**
- `X-API-Key` (string, required)

**Response:**
```json
{
  "workspace_id": "uuid",
  "user_id": "uuid",
  "name": "string",
  "description": "string",
  "created_at": "date-time",
  "developer_access": true
}
```

---

### Update Workspace
**PATCH** `/v1/workspace/update/{workspace_id}`
Update a workspace (only if owned by the authenticated user).

**Path Parameters:**
- `workspace_id` (string, required)

**Headers:**
- `X-API-Key` (string, required)

**Request Body:**
```json
{
  "name": "string",
  "description": "string",
  "developer_access": true
}
```

**Response:**
```json
{
  "workspace_id": "uuid",
  "user_id": "uuid",
  "name": "string",
  "description": "string",
  "created_at": "date-time",
  "developer_access": true
}
```

---

### Example Error Responses

**403 Forbidden (No Developer Access):**
```json
{
  "detail": "Workspace does not have developer access."
}
```

**422 Validation Error:**
```json
{
  "detail": [
    {
      "loc": ["body", "name"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```
