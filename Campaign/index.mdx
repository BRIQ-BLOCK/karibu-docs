# Karibu-Campaign

Welcome to the Karibu Campaign API documentation.

## Overview
The Campaign API allows you to manage campaigns within developer-accessible workspaces. You can create, list, retrieve, and update campaigns. All endpoints require authentication via an `X-API-Key` header.

---

## Security Notes
- All endpoints require a valid `X-API-Key`.
- Campaign actions require the workspace to have `developer_access: true`.
- If a workspace does not have developer access, endpoints will return a `403 Forbidden` error.

**Example Error Response:**
```json
{
  "detail": "Workspace does not have developer access."
}
```

---

## Endpoints

### Create Campaign
**POST** `/v1/campaign/create/`
Create a new campaign in a developer-accessible workspace.

**Headers:**
- `X-API-Key` (string, required)

**Request Body:**
```json
{
  "workspace_id": "uuid",
  "name": "string",
  "description": "string",
  "launch_date": "date-time"
}
```

**Response:**
```json
{
  "campaign_id": "uuid",
  "workspace_id": "uuid",
  "name": "string",
  "description": "string",
  "launch_date": "date-time",
  "created_by": "uuid",
  "created_at": "date-time"
}
```

---

### List Campaigns
**GET** `/v1/campaign/all/`
Retrieve all campaigns for the authenticated user (developer-accessible workspaces).

**Headers:**
- `X-API-Key` (string, required)

**Response:**
```json
[
  {
    "campaign_id": "uuid",
    "workspace_id": "uuid",
    "name": "string",
    "description": "string",
    "launch_date": "date-time",
    "created_by": "uuid",
    "created_at": "date-time"
  }
]
```

---

### Get Campaign
**GET** `/v1/campaign/{campaign_id}/`
Retrieve a specific campaign by ID.

**Path Parameters:**
- `campaign_id` (string, required)

**Headers:**
- `X-API-Key` (string, required)

**Response:**
```json
{
  "campaign_id": "uuid",
  "workspace_id": "uuid",
  "name": "string",
  "description": "string",
  "launch_date": "date-time",
  "created_by": "uuid",
  "created_at": "date-time"
}
```

---

### Update Campaign
**PATCH** `/v1/campaign/update/{campaign_id}`
Update a campaign (only if it belongs to a developer-accessible workspace owned by the user).

**Path Parameters:**
- `campaign_id` (string, required)

**Headers:**
- `X-API-Key` (string, required)

**Request Body:**
```json
{
  "name": "string",
  "description": "string",
  "launch_date": "date-time"
}
```

**Response:**
```json
{
  "campaign_id": "uuid",
  "workspace_id": "uuid",
  "name": "string",
  "description": "string",
  "launch_date": "date-time",
  "created_by": "uuid",
  "created_at": "date-time"
}
```

---

### Example Error Responses

**403 Forbidden (No Developer Access):**
```json
{
  "detail": "Workspace does not have developer access."
}
```

**422 Validation Error:**
```json
{
  "detail": [
    {
      "loc": ["body", "name"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```
