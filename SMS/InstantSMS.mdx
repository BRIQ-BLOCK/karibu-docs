---
title: 'Instant SMS'
description: 'Send instant SMS messages to single or multiple recipients using BRIQ''s powerful messaging API.'
icon: 'message'
---
Send instant SMS messages to single or multiple recipients using BRIQ's powerful messaging API.

## Overview

The messaging endpoints allow you to send SMS messages instantly or retrieve logs and history of your sent messages. All messages are processed in real-time with detailed delivery tracking.

### Base URL
```
https://karibu.briq.tz/
```

### Authentication
```http
X-API-Key: <your_api_key>
Content-Type: application/json
```

## Send Instant SMS

Send an immediate SMS message to one or more recipients.

### Endpoint
```http
POST /v1/message/send-instant
```

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `content` | string | Yes | SMS message content (max 160 characters for single SMS) |
| `recipients` | array | Yes | Array of phone numbers in format "255XXXXXXXXX" |
| `sender_id` | string | Yes | Your registered sender ID or "BRIQ" for default |
| `campaign_id` | string | No | Optional campaign UUID to associate this message |

### Example Request

```bash
curl -X POST https://karibu.briq.tz/v1/message/send-instant \
-H "Content-Type: application/json" \
-H "X-API-Key: your_api_key_here" \
-d '{
  "content": "Hello, this is a test message from BRIQ!",
  "recipients": ["255788344348", "255712345678"],
  "sender_id": "BRIQ",
  "campaign_id": "optional-campaign-uuid"
}'
```

### Response

```json
{
  "success": true,
  "message_id": "msg_abc123xyz789",
  "status": "sent",
  "recipients_count": 2,
  "cost_per_message": 50,
  "total_cost": 100,
  "created_at": "2024-08-10T10:30:00Z"
}
```

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `success` | boolean | Whether the request was successful |
| `message_id` | string | Unique identifier for the sent message |
| `status` | string | Current message status (sent, queued, failed) |
| `recipients_count` | integer | Number of recipients |
| `cost_per_message` | integer | Cost per message in TZS |
| `total_cost` | integer | Total cost for all recipients |
| `created_at` | string | ISO timestamp when message was created |

## Send Campaign SMS

Send SMS messages as part of an organized campaign to a specific group.

### Endpoint
```http
POST /v1/message/send-campaign
```

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `campaign_id` | string | Yes | UUID of the campaign |
| `group_id` | string | Yes | UUID of the recipient group |
| `content` | string | Yes | SMS message content |
| `sender_id` | string | Yes | Your registered sender ID |

### Example Request

```bash
curl -X POST https://karibu.briq.tz/v1/message/send-campaign \
-H "Content-Type: application/json" \
-H "X-API-Key: your_api_key_here" \
-d '{
  "campaign_id": "camp_456def789ghi",
  "group_id": "group_789ghi123jkl",
  "content": "Special offer! Get 20% off today only. Visit our store now!",
  "sender_id": "MYSTORE"
}'
```

### Response

```json
{
  "success": true,
  "message_id": "msg_def456ghi789",
  "status": "sent",
  "campaign_id": "camp_456def789ghi",
  "group_id": "group_789ghi123jkl",
  "recipients_count": 150,
  "total_cost": 7500,
  "created_at": "2024-08-10T14:20:00Z"
}
```

## Message Logs

Retrieve logs of your sent messages with delivery status and details.

### Endpoint
```http
GET /v1/message/logs
```

### Query Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `limit` | integer | No | Number of logs to retrieve (default: 50, max: 1000) |
| `offset` | integer | No | Number of logs to skip (for pagination) |
| `status` | string | No | Filter by status: sent, delivered, failed, expired |
| `date_from` | string | No | Filter from date (YYYY-MM-DD format) |
| `date_to` | string | No | Filter to date (YYYY-MM-DD format) |

### Example Request

```bash
curl -X GET "https://karibu.briq.tz/v1/message/logs?limit=100&status=delivered" \
-H "X-API-Key: your_api_key_here"
```

### Response

```json
{
  "success": true,
  "logs": [
    {
      "message_id": "msg_abc123xyz789",
      "content": "Hello, this is a test message from BRIQ!",
      "status": "delivered",
      "recipients": ["255788344348", "255712345678"],
      "sender_id": "BRIQ",
      "cost": 100,
      "created_at": "2024-08-10T10:30:00Z",
      "delivered_at": "2024-08-10T10:30:15Z"
    },
    {
      "message_id": "msg_def456ghi789",
      "content": "Campaign message content",
      "status": "sent",
      "recipients": ["255701234567"],
      "sender_id": "MYSTORE",
      "cost": 50,
      "created_at": "2024-08-10T09:15:00Z",
      "delivered_at": null
    }
  ],
  "pagination": {
    "total": 1250,
    "limit": 100,
    "offset": 0,
    "has_more": true
  }
}
```

## Message History

Retrieve complete message history for your account with detailed information.

### Endpoint
```http
GET /v1/message/history
```

### Query Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `limit` | integer | No | Number of records to retrieve (default: 50) |
| `offset` | integer | No | Number of records to skip |
| `campaign_id` | string | No | Filter by specific campaign |
| `sender_id` | string | No | Filter by sender ID |

### Example Request

```bash
curl -X GET "https://karibu.briq.tz/v1/message/history?limit=50&campaign_id=camp_456def789ghi" \
-H "X-API-Key: your_api_key_here"
```

### Response

```json
{
  "success": true,
  "history": [
    {
      "message_id": "msg_abc123xyz789",
      "content": "Hello, this is a test message from BRIQ!",
      "recipients": ["255788344348", "255712345678"],
      "sender_id": "BRIQ",
      "status": "delivered",
      "campaign_id": null,
      "cost": 100,
      "created_at": "2024-08-10T10:30:00Z",
      "updated_at": "2024-08-10T10:30:15Z"
    },
    {
      "message_id": "msg_def456ghi789",
      "content": "Special campaign message",
      "recipients": ["255701234567"],
      "sender_id": "MYSTORE",
      "status": "delivered",
      "campaign_id": "camp_456def789ghi",
      "cost": 50,
      "created_at": "2024-08-09T16:45:00Z",
      "updated_at": "2024-08-09T16:45:12Z"
    }
  ],
  "pagination": {
    "total": 2340,
    "limit": 50,
    "offset": 0,
    "has_more": true
  }
}
```

## Message Status Codes

Understanding message status is crucial for tracking delivery:

| Status | Description |
|--------|-------------|
| `queued` | Message is queued for delivery |
| `sent` | Message has been sent to the mobile network |
| `delivered` | Message successfully delivered to recipient |
| `failed` | Message delivery failed |
| `expired` | Message expired before delivery |
| `unknown` | Status cannot be determined |

## Code Examples

### JavaScript/Node.js

```javascript
const axios = require('axios');

async function sendInstantSMS() {
  try {
    const response = await axios.post('https://karibu.briq.tz/v1/message/send-instant', {
      content: 'Hello from Node.js!',
      recipients: ['255788344348'],
      sender_id: 'BRIQ'
    }, {
      headers: {
        'X-API-Key': 'your_api_key_here',
        'Content-Type': 'application/json'
      }
    });
    
    console.log('SMS sent successfully:', response.data);
  } catch (error) {
    console.error('Error sending SMS:', error.response.data);
  }
}

sendInstantSMS();
```

### Python

```python
import requests
import json

def send_instant_sms():
    url = 'https://karibu.briq.tz/v1/message/send-instant'
    headers = {
        'X-API-Key': 'your_api_key_here',
        'Content-Type': 'application/json'
    }
    data = {
        'content': 'Hello from Python!',
        'recipients': ['255788344348'],
        'sender_id': 'BRIQ'
    }
    
    try:
        response = requests.post(url, headers=headers, data=json.dumps(data))
        response.raise_for_status()
        print('SMS sent successfully:', response.json())
    except requests.exceptions.RequestException as e:
        print('Error sending SMS:', e)

send_instant_sms()
```

### PHP

```php
<?php
function sendInstantSMS() {
    $url = 'https://karibu.briq.tz/v1/message/send-instant';
    $data = array(
        'content' => 'Hello from PHP!',
        'recipients' => array('255788344348'),
        'sender_id' => 'BRIQ'
    );
    
    $options = array(
        'http' => array(
            'header' => array(
                'X-API-Key: your_api_key_here',
                'Content-Type: application/json'
            ),
            'method' => 'POST',
            'content' => json_encode($data)
        )
    );
    
    $context = stream_context_create($options);
    $result = file_get_contents($url, false, $context);
    
    if ($result === FALSE) {
        echo 'Error sending SMS';
    } else {
        echo 'SMS sent successfully: ' . $result;
    }
}

sendInstantSMS();
?>
```

## Error Handling

### Common Error Responses

```json
{
  "success": false,
  "error": {
    "code": "INVALID_RECIPIENT",
    "message": "One or more recipient numbers are invalid",
    "details": {
      "invalid_numbers": ["25512345"]
    }
  }
}
```

### Error Codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_API_KEY` | 401 | API key is missing or invalid |
| `INSUFFICIENT_BALANCE` | 402 | Account balance is too low |
| `INVALID_RECIPIENT` | 400 | Invalid phone number format |
| `CONTENT_TOO_LONG` | 400 | Message content exceeds limit |
| `INVALID_SENDER_ID` | 400 | Sender ID not registered or invalid |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests in short time |
| `CAMPAIGN_NOT_FOUND` | 404 | Specified campaign doesn't exist |

## Best Practices

### Phone Number Format
Always use international format: `255XXXXXXXXX` (without + or spaces)

### Message Content
- Keep messages under 160 characters for single SMS
- Use clear, actionable language
- Include opt-out instructions for marketing messages

### Error Handling
- Always check the `success` field in responses
- Implement retry logic with exponential backoff
- Log failed messages for troubleshooting

### Rate Limiting
- Respect the API rate limits
- Implement queueing for large batches
- Use campaign messaging for bulk sends

---

*Need help? Contact our support team at [support@briq.tz](mailto:support@briq.tz)*