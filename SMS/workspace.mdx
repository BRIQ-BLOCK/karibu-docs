# Workspaces

Organize your SMS projects, teams, and campaigns with BRIQ's workspace management system. Workspaces help you separate different business units, clients, or projects while maintaining centralized control.

## Overview

Workspaces are containers that help you organize your SMS activities. Each workspace can contain multiple campaigns, have different team members, and maintain separate budgets and reporting.

### Use Cases for Workspaces

- **Department Separation**: Marketing, Sales, Customer Service
- **Client Management**: Separate workspaces for different clients
- **Project Organization**: Organize by campaigns or initiatives
- **Team Collaboration**: Control access and permissions per workspace

### Base URL
```
https://karibu.briq.tz/
```

### Authentication
```http
X-API-Key: <your_api_key>
Content-Type: application/json
```

## Create Workspace

Create a new workspace to organize your SMS projects and campaigns.

### Endpoint
```http
POST /v1/workspace/create/
```

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `name` | string | Yes | Workspace name (3-50 characters) |
| `description` | string | No | Optional workspace description (max 200 characters) |

### Example Request

```bash
curl -X POST https://karibu.briq.tz/v1/workspace/create/ \
-H "Content-Type: application/json" \
-H "X-API-Key: your_api_key_here" \
-d '{
  "name": "Marketing Department",
  "description": "Workspace for all marketing campaigns and communications"
}'
```

### Response

```json
{
  "success": true,
  "workspace_id": "ws_abc123xyz789def",
  "name": "Marketing Department",
  "description": "Workspace for all marketing campaigns and communications",
  "created_at": "2024-08-10T10:30:00Z",
  "created_by": "user_456def789ghi",
  "status": "active"
}
```

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `success` | boolean | Whether the request was successful |
| `workspace_id` | string | Unique identifier for the workspace |
| `name` | string | Workspace name |
| `description` | string | Workspace description |
| `created_at` | string | ISO timestamp when workspace was created |
| `created_by` | string | User ID who created the workspace |
| `status` | string | Workspace status (active, inactive) |

## Get All Workspaces

Retrieve a list of all workspaces associated with your account.

### Endpoint
```http
GET /v1/workspace/all/
```

### Query Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `status` | string | No | Filter by status: active, inactive, all (default: active) |
| `limit` | integer | No | Number of workspaces to retrieve (default: 50, max: 1000) |
| `offset` | integer | No | Number of workspaces to skip (for pagination) |

### Example Request

```bash
curl -X GET "https://karibu.briq.tz/v1/workspace/all/?limit=10&status=active" \
-H "X-API-Key: your_api_key_here"
```

### Response

```json
{
  "success": true,
  "workspaces": [
    {
      "workspace_id": "ws_abc123xyz789def",
      "name": "Marketing Department",
      "description": "Workspace for all marketing campaigns and communications",
      "status": "active",
      "created_at": "2024-08-10T10:30:00Z",
      "campaigns_count": 5,
      "last_activity": "2024-08-10T15:45:00Z"
    },
    {
      "workspace_id": "ws_def456ghi789jkl",
      "name": "Customer Support",
      "description": "Customer service and support communications",
      "status": "active",
      "created_at": "2024-08-09T09:20:00Z",
      "campaigns_count": 2,
      "last_activity": "2024-08-10T12:30:00Z"
    }
  ],
  "pagination": {
    "total": 8,
    "limit": 10,
    "offset": 0,
    "has_more": false
  }
}
```

## Get Workspace Details

Retrieve detailed information about a specific workspace.

### Endpoint
```http
GET /v1/workspace/{workspace_id}
```

### Path Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `workspace_id` | string | Yes | The UUID of the workspace |

### Example Request

```bash
curl -X GET https://karibu.briq.tz/v1/workspace/ws_abc123xyz789def \
-H "X-API-Key: your_api_key_here"
```

### Response

```json
{
  "success": true,
  "workspace_id": "ws_abc123xyz789def",
  "name": "Marketing Department",
  "description": "Workspace for all marketing campaigns and communications",
  "status": "active",
  "created_at": "2024-08-10T10:30:00Z",
  "created_by": "user_456def789ghi",
  "updated_at": "2024-08-10T14:20:00Z",
  "settings": {
    "default_sender_id": "MARKETING",
    "timezone": "Africa/Dar_es_Salaam",
    "webhook_url": "https://yoursite.com/webhooks/briq"
  },
  "statistics": {
    "total_campaigns": 5,
    "active_campaigns": 2,
    "total_messages_sent": 15420,
    "messages_this_month": 3450,
    "total_spent": 771000
  },
  "team_members": [
    {
      "user_id": "user_456def789ghi",
      "name": "John Doe",
      "email": "john@company.com",
      "role": "admin",
      "joined_at": "2024-08-10T10:30:00Z"
    }
  ]
}
```

## Update Workspace

Update the details of an existing workspace.

### Endpoint
```http
PATCH /v1/workspace/update/{workspace_id}
```

### Path Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `workspace_id` | string | Yes | The UUID of the workspace to update |

### Request Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `name` | string | No | New workspace name (3-50 characters) |
| `description` | string | No | New workspace description (max 200 characters) |
| `status` | string | No | Workspace status: active, inactive |

### Example Request

```bash
curl -X PATCH https://karibu.briq.tz/v1/workspace/update/ws_abc123xyz789def \
-H "Content-Type: application/json" \
-H "X-API-Key: your_api_key_here" \
-d '{
  "name": "Marketing & Sales Department",
  "description": "Combined workspace for marketing and sales communications",
  "status": "active"
}'
```

### Response

```json
{
  "success": true,
  "workspace_id": "ws_abc123xyz789def",
  "name": "Marketing & Sales Department",
  "description": "Combined workspace for marketing and sales communications",
  "status": "active",
  "updated_at": "2024-08-10T16:45:00Z",
  "updated_by": "user_456def789ghi"
}
```

## Code Examples

### JavaScript/Node.js

```javascript
const axios = require('axios');

class BriqWorkspace {
  constructor(apiKey) {
    this.apiKey = apiKey;
    this.baseURL = 'https://karibu.briq.tz';
  }

  async createWorkspace(name, description = '') {
    try {
      const response = await axios.post(`${this.baseURL}/v1/workspace/create/`, {
        name,
        description
      }, {
        headers: {
          'X-API-Key': this.apiKey,
          'Content-Type': 'application/json'
        }
      });
      
      return response.data;
    } catch (error) {
      console.error('Error creating workspace:', error.response.data);
      throw error;
    }
  }

  async getAllWorkspaces(status = 'active', limit = 50) {
    try {
      const response = await axios.get(`${this.baseURL}/v1/workspace/all/`, {
        params: { status, limit },
        headers: {
          'X-API-Key': this.apiKey
        }
      });
      
      return response.data;
    } catch (error) {
      console.error('Error fetching workspaces:', error.response.data);
      throw error;
    }
  }

  async getWorkspace(workspaceId) {
    try {
      const response = await axios.get(`${this.baseURL}/v1/workspace/${workspaceId}`, {
        headers: {
          'X-API-Key': this.apiKey
        }
      });
      
      return response.data;
    } catch (error) {
      console.error('Error fetching workspace:', error.response.data);
      throw error;
    }
  }

  async updateWorkspace(workspaceId, updates) {
    try {
      const response = await axios.patch(`${this.baseURL}/v1/workspace/update/${workspaceId}`, updates, {
        headers: {
          'X-API-Key': this.apiKey,
          'Content-Type': 'application/json'
        }
      });
      
      return response.data;
    } catch (error) {
      console.error('Error updating workspace:', error.response.data);
      throw error;
    }
  }
}

// Usage example
const briq = new BriqWorkspace('your_api_key_here');

// Create a workspace
briq.createWorkspace('Sales Team', 'Workspace for sales communications')
  .then(result => console.log('Workspace created:', result))
  .catch(error => console.error('Failed to create workspace:', error));
```

### Python

```python
import requests
import json

class BriqWorkspace:
    def __init__(self, api_key):
        self.api_key = api_key
        self.base_url = 'https://karibu.briq.tz'
        self.headers = {
            'X-API-Key': api_key,
            'Content-Type': 'application/json'
        }
    
    def create_workspace(self, name, description=''):
        url = f'{self.base_url}/v1/workspace/create/'
        data = {
            'name': name,
            'description': description
        }
        
        try:
            response = requests.post(url, headers=self.headers, data=json.dumps(data))
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            print(f'Error creating workspace: {e}')
            return None
    
    def get_all_workspaces(self, status='active', limit=50):
        url = f'{self.base_url}/v1/workspace/all/'
        params = {'status': status, 'limit': limit}
        
        try:
            response = requests.get(url, headers={'X-API-Key': self.api_key}, params=params)
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            print(f'Error fetching workspaces: {e}')
            return None
    
    def get_workspace(self, workspace_id):
        url = f'{self.base_url}/v1/workspace/{workspace_id}'
        
        try:
            response = requests.get(url, headers={'X-API-Key': self.api_key})
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            print(f'Error fetching workspace: {e}')
            return None
    
    def update_workspace(self, workspace_id, **updates):
        url = f'{self.base_url}/v1/workspace/update/{workspace_id}'
        
        try:
            response = requests.patch(url, headers=self.headers, data=json.dumps(updates))
            response.raise_for_status()
            return response.json()
        except requests.exceptions.RequestException as e:
            print(f'Error updating workspace: {e}')
            return None

# Usage example
briq = BriqWorkspace('your_api_key_here')

# Create a workspace
result = briq.create_workspace('Customer Support', 'Support team workspace')
if result:
    print('Workspace created:', result)

# Get all workspaces
workspaces = briq.get_all_workspaces()
if workspaces:
    print('All workspaces:', workspaces)
```

### PHP

```php
<?php
class BriqWorkspace {
    private $apiKey;
    private $baseURL = 'https://karibu.briq.tz';
    
    public function __construct($apiKey) {
        $this->apiKey = $apiKey;
    }
    
    private function makeRequest($method, $endpoint, $data = null) {
        $url = $this->baseURL . $endpoint;
        $headers = [
            'X-API-Key: ' . $this->apiKey,
            'Content-Type: application/json'
        ];
        
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $method);
        
        if ($data) {
            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
        }
        
        $response = curl_exec($ch);
        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        curl_close($ch);
        
        return [
            'status' => $httpCode,
            'data' => json_decode($response, true)
        ];
    }
    
    public function createWorkspace($name, $description = '') {
        $data = [
            'name' => $name,
            'description' => $description
        ];
        
        return $this->makeRequest('POST', '/v1/workspace/create/', $data);
    }
    
    public function getAllWorkspaces($status = 'active', $limit = 50) {
        $endpoint = '/v1/workspace/all/?status=' . urlencode($status) . '&limit=' . $limit;
        return $this->makeRequest('GET', $endpoint);
    }
    
    public function getWorkspace($workspaceId) {
        return $this->makeRequest('GET', '/v1/workspace/' . $workspaceId);
    }
    
    public function updateWorkspace($workspaceId, $updates) {
        return $this->makeRequest('PATCH', '/v1/workspace/update/' . $workspaceId, $updates);
    }
}

// Usage example
$briq = new BriqWorkspace('your_api_key_here');

// Create workspace
$result = $briq->createWorkspace('IT Department', 'IT support and maintenance');
if ($result['status'] === 200) {
    echo 'Workspace created successfully: ' . json_encode($result['data']);
} else {
    echo 'Error creating workspace: ' . json_encode($result['data']);
}
?>
```

## Workspace Management Best Practices

### Naming Conventions
- Use descriptive, clear names
- Consider prefixes for department/client identification
- Keep names under 50 characters
- Avoid special characters that might cause API issues

### Organization Strategy
- **By Department**: Marketing, Sales, Support, IT
- **By Client**: Client A, Client B, Client C
- **By Project**: Product Launch 2024, Holiday Campaign
- **By Geography**: Tanzania, Kenya, Regional

### Access Control
- Assign appropriate roles to team members
- Regularly review and update permissions
- Use principle of least privilege
- Document role assignments

### Monitoring and Maintenance
- Regular cleanup of inactive workspaces
- Monitor workspace usage and costs
- Set up alerts for unusual activity
- Archive completed projects

## Error Handling

### Common Error Responses

```json
{
  "success": false,
  "error": {
    "code": "WORKSPACE_NAME_EXISTS",
    "message": "A workspace with this name already exists",
    "details": {
      "existing_workspace_id": "ws_existing123"
    }
  }
}
```

### Error Codes

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `INVALID_API_KEY` | 401 | API key is missing or invalid |
| `WORKSPACE_NOT_FOUND` | 404 | Workspace with given ID doesn't exist |
| `WORKSPACE_NAME_EXISTS` | 409 | Workspace name already exists |
| `INVALID_WORKSPACE_NAME` | 400 | Workspace name is invalid or too long |
| `PERMISSION_DENIED` | 403 | Insufficient permissions for this action |
| `WORKSPACE_LIMIT_EXCEEDED` | 402 | Account workspace limit reached |
| `VALIDATION_ERROR` | 400 | Request validation failed |

## Workspace Settings

### Available Settings

| Setting | Type | Description |
|---------|------|-------------|
| `default_sender_id` | string | Default sender ID for workspace messages |
| `timezone` | string | Workspace timezone for scheduling |
| `webhook_url` | string | URL for workspace-specific webhooks |
| `auto_archive_days` | integer | Days before auto-archiving completed campaigns |
| `budget_limit` | integer | Monthly budget limit in TZS |
| `notification_email` | string | Email for workspace notifications |

### Update Settings Example

```bash
curl -X PATCH https://karibu.briq.tz/v1/workspace/update/ws_abc123xyz789def \
-H "Content-Type: application/json" \
-H "X-API-Key: your_api_key_here" \
-d '{
  "settings": {
    "default_sender_id": "SUPPORT",
    "timezone": "Africa/Dar_es_Salaam",
    "budget_limit": 500000,
    "notification_email": "admin@company.com"
  }
}'
```

## Workspace Analytics

Access detailed analytics for each workspace including:

- **Message Statistics**: Sent, delivered, failed messages
- **Cost Analysis**: Spending trends and budget utilization
- **Campaign Performance**: Success rates and ROI metrics
- **Team Activity**: Member contributions and activity levels
- **Time-based Reports**: Daily, weekly, monthly summaries

## Integration with Campaigns

Workspaces seamlessly integrate with campaigns:

- All campaigns must belong to a workspace
- Workspace settings apply to all campaigns within it
- Team members inherit workspace permissions
- Budget limits apply across all workspace campaigns
- Reporting aggregates data at workspace level


```

---

*Need help managing your workspaces? Contact our support team at [support@briq.tz](mailto:support@briq.tz)*